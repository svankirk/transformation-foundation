<!DOCTYPE html>
<!--https://node-svankirk.c9users.io/application-->
<html lang="en" ng-app="">
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.4/jquery-ui.min.js"></script>
    <link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.4/themes/smoothness/jquery-ui.css" />
    <style>
      body {
        padding-top: 60px;
      }
    
</style>
  </head>
  <body>
    <h1>Applicant Data</h1>
	<form id="searchForm" action="">
		First Name: <input type="text" name="name" value="mary" /><br>
        Email Address:	<input type="email" name="email" value="mary@contrary.com" /></br>
		Last Name:	<input type="text" name="lastname" value="" /></br>
	</form>
	<button> "Submit" </button> 
	<div id="result"></div>
	
    <script>
      $("button").click(function() {  
		  var jsform={};
		  var formarray=$("#searchForm").serializeArray();
		  $.each(formarray, function(i, field){
		    if (field.value.length > 0) {
			  jsform[field.name] = field.value;
		    }
		  });
		  alert("formdata = " + JSON.stringify(jsform) );
		  $.ajax({
    		  method: "POST",
    		  url: "https://node-svankirk.c9.io:8081/application",
    		  data: jsform,
    		  success: function(result){
//                         $("#result").html(result);
                alert("response: " + JSON.stringify(result));
    		  },
              error: function(xhr,status,error) {
                alert("error: " + error + " status: " + status + " xhr: " + JSON.stringify(xhr));   
              },
		  
		  });
	  });

    
    
    // console.log($this.serializeArray());
    //console.log(jsform);
    

    </script> 

  </body>
</html>
